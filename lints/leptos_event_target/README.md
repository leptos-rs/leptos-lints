<!-- This file has been autogenerated. Don't edit it!
Instead, edit the documentation comment in the lint's src/lib.rs file. -->

# leptos_event_target

### What it does

Warn about usages of `event_target`. The purpose of this lint is
to make users know that the function may panic under certain circumstances.

### Why is this bad?

The function `leptos::prelude::event_target` will panic at run-time if the
event doesn't have a target (eg. `web_sys::FetchEvent`) or is manually
created with `web_sys::Event::new` or `web_sys::MouseEvent::new`. This
can introduce hard-to-debug runtime errors in Leptos applications
that produce panics at run-time.

To reproduce:

```rust,ignore
let event = web_sys::Event::new("visibilitychange").unwrap();
let target = leptos::prelude::event_target::<web_sys::Document>(&event);
```

The underlying problem is that the MDN APIs don't guarantee at type level
if `target` is null or not.

### Example

```rust,ignore
let target = leptos::prelude::event_target::<web_sys::Document>(&event);
```

Use instead:

```rust,ignore
let target = match event.target() {
    Some(t) => t.dyn_into::<web_sys::Document>().ok(),
    None => {
       // handle the case where there is no target
       todo!()
    },
};
```

Or allow the lint if you're sure that the event has a target:

```rust,ignore
#[allow(leptos_event_target)]
let target = leptos::prelude::event_target::<web_sys::Document>(&event);
```
